{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\UCB\\\\courses\\\\2020Fall\\\\IEOR 135\\\\volvo_social_media\\\\full_stack_server\\\\templates\\\\src\\\\views\\\\MentionStatistics.jsx\";\nimport React, { Component } from 'react';\nimport BarGraphCard from '../components/BarGraphCard.jsx';\nimport PieGraphCard from '../components/PieGraphCard.jsx';\nimport LineGraphCard from '../components/LineGraphCard.jsx';\nimport AreaGraphCard from '../components/AreaGraphCard.jsx';\nimport TweetsCard from '../components/TweetsCard.jsx';\nimport WordCloudCard from '../components/WordCloudCard.jsx';\nimport axios from 'axios';\n\nclass MentionStatistics extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.getData();\n    };\n\n    this.getData = () => {\n      // const url = \"https://easydoc.xyz/mock/CHs95kcg/api/mention\";\n      const url = \"http://127.0.0.1:8000/api/mention\";\n      axios.get(url).then(res => {\n        console.log(res.data);\n        this.setState({\n          data: res.data\n        });\n      }, error => console.log('An error occurred.', error));\n    };\n\n    this.state = {\n      data: {}\n    };\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    var scores = [];\n\n    if (data && data.score_dist) {\n      const score_dist = data.score_dist;\n      scores = [{\n        name: \"positive\",\n        value: score_dist[\"positive\"]\n      }, {\n        name: \"negative\",\n        value: score_dist[\"negative\"]\n      }, {\n        name: \"neutral\",\n        value: score_dist[\"neutral\"]\n      }];\n    }\n\n    var model_scores = [];\n\n    if (data && data.model_score_list) {\n      for (var i = 0; i <= 10; i++) {\n        model_scores.push({\n          \"key\": i * 10,\n          \"s60\": data.model_score_list[0].score_dist[i],\n          \"xc90\": data.model_score_list[2].score_dist[i],\n          \"xc40\": data.model_score_list[4].score_dist[i],\n          \"ranom\": data.model_score_list[3].score_dist[i]\n        });\n      }\n    }\n\n    var twitters = {};\n\n    if (data && data.top_twitter) {\n      data.top_twitter.forEach((item, i) => {\n        if (item.type === \"recent\") {\n          twitters[\"recent_twitters\"] = item.twitters;\n        } else if (item.type === \"top_like\") {\n          twitters[\"top_like_twitters\"] = item.twitters;\n        } else if (item.type === \"top_retweet\") {\n          twitters[\"top_retweet_twitters\"] = item.twitters;\n        } else if (item.type === \"top_influence\") {\n          twitters[\"top_influence_twitters\"] = item.twitters;\n        }\n      });\n    }\n\n    var words = [];\n\n    if (data && data.word_cloud) {\n      data.word_cloud.forEach((item, i) => {\n        words.push({\n          text: item.word,\n          value: item.count\n        });\n      });\n    }\n\n    var avg_scores = [];\n\n    if (data && data.avg_score) {\n      data.avg_score.forEach((item, i) => {\n        avg_scores.push({\n          time: \"Jan\",\n          score: item\n        });\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !data ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"AA-container\",\n        children: [/*#__PURE__*/_jsxDEV(AreaGraphCard, {\n          graphData: model_scores,\n          type: \"Sentiment Score for Models\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PieGraphCard, {\n          graphData: scores,\n          type: \"Sentiment Scores Distribution\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LineGraphCard, {\n          graphData: avg_scores,\n          type: \"Sentiment Scores over Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TweetsCard, {\n          tweets: twitters,\n          type: \"Latest Mentions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WordCloudCard, {\n          words: words,\n          type: \"Word Cloud\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default MentionStatistics;","map":{"version":3,"sources":["E:/UCB/courses/2020Fall/IEOR 135/volvo_social_media/full_stack_server/templates/src/views/MentionStatistics.jsx"],"names":["React","Component","BarGraphCard","PieGraphCard","LineGraphCard","AreaGraphCard","TweetsCard","WordCloudCard","axios","MentionStatistics","constructor","props","componentDidMount","getData","url","get","then","res","console","log","data","setState","error","state","render","scores","score_dist","name","value","model_scores","model_score_list","i","push","twitters","top_twitter","forEach","item","type","words","word_cloud","text","word","count","avg_scores","avg_score","time","score"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport BarGraphCard from '../components/BarGraphCard.jsx';\r\nimport PieGraphCard from '../components/PieGraphCard.jsx';\r\nimport LineGraphCard from '../components/LineGraphCard.jsx';\r\nimport AreaGraphCard from '../components/AreaGraphCard.jsx';\r\nimport TweetsCard from '../components/TweetsCard.jsx';\r\nimport WordCloudCard from '../components/WordCloudCard.jsx';\r\nimport axios from 'axios';\r\n\r\n\r\nclass MentionStatistics extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {\r\n\r\n      }\r\n    }\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.getData();\r\n  }\r\n\r\n  getData = () => {\r\n    // const url = \"https://easydoc.xyz/mock/CHs95kcg/api/mention\";\r\n    const url = \"http://127.0.0.1:8000/api/mention\";\r\n    axios.get(url)\r\n      .then(res => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          data: res.data\r\n        })\r\n      },\r\n      error => console.log('An error occurred.', error),\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.state;\r\n    var scores = [];\r\n    if (data && data.score_dist) {\r\n      const score_dist = data.score_dist;\r\n      scores = [\r\n        {name: \"positive\", value: score_dist[\"positive\"]},\r\n        {name: \"negative\", value: score_dist[\"negative\"]},\r\n        {name: \"neutral\", value: score_dist[\"neutral\"]},\r\n      ]\r\n    }\r\n    var model_scores = [];\r\n    if (data && data.model_score_list) {\r\n      for (var i = 0; i <= 10; i++) {\r\n        model_scores.push({\r\n          \"key\": i * 10,\r\n          \"s60\": data.model_score_list[0].score_dist[i],\r\n          \"xc90\": data.model_score_list[2].score_dist[i],\r\n          \"xc40\": data.model_score_list[4].score_dist[i],\r\n          \"ranom\": data.model_score_list[3].score_dist[i]\r\n        })\r\n      }\r\n    }\r\n\r\n    var twitters = {};\r\n    if (data && data.top_twitter) {\r\n      data.top_twitter.forEach((item, i) => {\r\n        if (item.type === \"recent\") {\r\n          twitters[\"recent_twitters\"] = item.twitters;\r\n        } else if (item.type === \"top_like\") {\r\n          twitters[\"top_like_twitters\"] = item.twitters;\r\n        } else if (item.type === \"top_retweet\") {\r\n          twitters[\"top_retweet_twitters\"] = item.twitters;\r\n        } else if (item.type === \"top_influence\") {\r\n          twitters[\"top_influence_twitters\"] = item.twitters;\r\n        }\r\n      });\r\n    }\r\n\r\n    var words = [];\r\n    if (data && data.word_cloud) {\r\n      data.word_cloud.forEach((item, i) => {\r\n        words.push({\r\n          text: item.word,\r\n          value: item.count,\r\n        })\r\n      });\r\n\r\n    }\r\n\r\n    var avg_scores = [];\r\n    if (data && data.avg_score) {\r\n      data.avg_score.forEach((item, i) => {\r\n        avg_scores.push({\r\n          time: \"Jan\",\r\n          score: item\r\n        })\r\n      });\r\n\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        {!data ? null :\r\n        <div className=\"AA-container\">\r\n          <AreaGraphCard graphData={model_scores} type=\"Sentiment Score for Models\" />\r\n          <PieGraphCard graphData={scores} type=\"Sentiment Scores Distribution\"/>\r\n          <LineGraphCard graphData={avg_scores} type=\"Sentiment Scores over Time\"/>\r\n          <TweetsCard tweets={twitters} type=\"Latest Mentions\" />\r\n          <WordCloudCard words={words} type=\"Word Cloud\"/>\r\n        </div>}\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport default MentionStatistics;\r\n"]},"metadata":{},"sourceType":"module"}